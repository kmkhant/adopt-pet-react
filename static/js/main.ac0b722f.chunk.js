(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{36:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),s=n.n(c),o=(n(36),n(13)),i=n.n(o),l=n(19),d=n(12),u={};var b=n(14),m=n(1),j=function(e){var t=e.name,n=e.animal,r=e.breed,a=e.images,c=e.location,s=e.id,o="https://pets-images.dev-apis.com/pets/none.jpg";return a.length&&(o=a[0]),Object(m.jsxs)("div",{className:"flex justify-center mx-16 sm:mx-32",children:[Object(m.jsx)("img",{src:o,alt:t,className:"inline object-cover w-16 h-16 mr-2 rounded-full my-16 sm:w-32 sm:h-32 sm:my-8"}),Object(m.jsxs)("div",{className:"flex-col justify-center w-full mx-4 mt-12 sm:mt-16",children:[Object(m.jsx)("h1",{children:t}),Object(m.jsx)("h2",{children:"".concat(n," - ").concat(r," - ").concat(c)})]}),Object(m.jsx)(b.b,{to:"/details/".concat(s),className:"pet",children:Object(m.jsx)("button",{className:"inline bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white my-16 py-1 px-4 border border-red-500 hover:border-transparent rounded sm:mt-20 sm:my-14",children:"Details"})})]})},h=function(e){var t=e.pets;return Object(m.jsx)("div",{className:"search",children:t.length?t.map((function(e){return Object(m.jsx)(j,{animal:e.animal,name:e.name,breed:e.breed,images:e.images,location:"".concat(e.city,", ").concat(e.state),id:e.id},e.id)})):Object(m.jsx)("h2",{children:"No Pets Found"})})},x=["bird","cat","dog","rabbit","reptile"],p=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(d.a)(c,2),o=s[0],b=s[1],j=Object(r.useState)(""),p=Object(d.a)(j,2),O=p[0],f=p[1],v=Object(r.useState)([]),g=Object(d.a)(v,2),y=g[0],w=g[1],N=function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)("unloaded"),o=Object(d.a)(s,2),b=o[0],m=o[1];return Object(r.useEffect)((function(){function t(){return(t=Object(l.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c([]),m("loading"),t.next=4,fetch("http://pets-v2.dev-apis.com/breeds?animal=".concat(e));case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,u[e]=r.breeds||[],c(u[e]),m("loaded");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e?u[e]?c(u[e]):function(){t.apply(this,arguments)}():c([])}),[e]),[a,b]}(o),k=Object(d.a)(N,1)[0],C=Object(r.useState)(!1),S=Object(d.a)(C,2),E=S[0],F=S[1];function M(){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),e.next=3,fetch("http://pets-v2.dev-apis.com/pets?animal=".concat(o,"&location=").concat(n,"&breed=").concat(O));case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,w(r.pets),F(!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){M()}),[]),Object(m.jsx)("div",{children:E?Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M()},className:"bg-white shadow-md rounded px-8 pt-4 pb-4 mb-4",children:[Object(m.jsxs)("label",{htmlFor:"location",className:"text-gray-700 text-sm font-bold mb-2 mx-4",children:["Location",Object(m.jsx)("input",{type:"text",id:"location",onChange:function(e){return a(e.target.value)},value:n,placeholder:"Location",className:"shadow appearance-none border border-gray-500 rounded mx-4 px-3 py-1 text-center text-gray-700 leading-tight focus:shadow-outline "})]}),Object(m.jsxs)("label",{htmlFor:"animal",className:"text-gray-700 text-sm font-bold mb-2 mx-4",children:["Animal",Object(m.jsx)("select",{id:"animal",value:o,onChange:function(e){return b(e.target.value)},onBlur:function(e){return b(e.target.value)},className:"text-gray-700 text-sm mb-2 mx-4",children:x.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})]}),Object(m.jsxs)("label",{htmlFor:"breed",className:"text-gray-700 text-sm font-bold mb-2",children:["Breed",Object(m.jsx)("select",{id:"breed",value:O,onChange:function(e){return f(e.target.value)},onBlur:function(e){return f(e.target.value)},className:"text-gray-700 text-sm mb-2 mx-4 px-4",children:k.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})]}),Object(m.jsx)("button",{className:"bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-1 px-4 border border-red-500 hover:border-transparent rounded",children:"Submit"})]}),Object(m.jsx)(h,{pets:y})]}):Object(m.jsx)("p",{children:"loading ... "})})},O=n(20),f=n(21),v=n(23),g=n(22),y=n(4),w=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={active:0},e.handleIndexClick=function(t){e.setState({active:+t.target.dataset.index})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state.active,n=this.props.images;return Object(m.jsxs)("div",{className:"flex mx-12 my-8 sm:mx-32",children:[Object(m.jsx)("img",{src:n[t],alt:"animal",className:"inline h-32 w-32 object-cover rounded-full mx-4 sm:h-64 sm:w-64 sm:mx-8"}),Object(m.jsx)("div",{className:"flex flex-wrap",children:n.map((function(n,r){return Object(m.jsx)("img",{src:n,"data-index":r,onClick:e.handleIndexClick,className:r===t?"inline object-cover rounded-full h-16 w-16 mx-2 my-1 sm:h-32 sm:w-32 border-4 border-red-500":"inline object-cover rounded-full h-16 w-16 mx-2 my-1 sm:h-32 sm:w-32",alt:"animal thumbnail"},n)}))})]})}}]),n}(r.Component);w.defaultProps={images:["http://pets-images.dev-apis.com/pets/none.jpg"]};var N=w,k=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(f.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("ErrorBoundary caught an error",e,t)}},{key:"render",value:function(){return this.state.hasError?Object(m.jsxs)("h1",{children:["There was an error with this listing. ",Object(m.jsx)(b.b,{to:"/",children:"Click here"})," ","to back to the home page or wait five seconds."]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(r.Component),C=document.getElementById("modal"),S=function(e){var t=e.children,n=Object(r.useRef)(null);return n.current||(n.current=document.createElement("div")),Object(r.useEffect)((function(){return C.appendChild(n.current),function(){return C.removeChild(n.current)}}),[]),Object(c.createPortal)(Object(m.jsx)("div",{children:t}),n.current)},E=Object(r.createContext)(["green",function(){}]),F=n(47),M=n(46),B=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.adopt=function(){return window.location="http://bit.ly/pet-adopt"},e.state={loading:!0,showModal:!1},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://pets-v2.dev-apis.com/pets?id=".concat(this.props.match.params.id));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState(Object.assign({loading:!1},n.pets[0]));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.loading)return Object(m.jsx)("h2",{children:"loading ..."});var t=this.state,n=t.animal,a=t.breed,c=t.city,s=t.state,o=t.description,i=t.name,l=t.images,u=t.showModal;return Object(m.jsxs)("div",{className:"h-screen",children:[Object(m.jsx)(N,{images:l}),Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h1",{className:"font-medium",children:i}),Object(m.jsx)("h2",{children:"".concat(n," - ").concat(a," - ").concat(c,", ").concat(s)}),Object(m.jsx)(E.Consumer,{children:function(t){Object(d.a)(t,1)[0];return Object(m.jsxs)("button",{onClick:e.toggleModal,className:"inline bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-1 px-4 my-4 border border-red-500 hover:border-transparent rounded sm:my-6",children:["Adopt ",i]})}}),Object(m.jsx)("p",{className:"px-16 sm:px-64",children:o}),u?Object(m.jsx)(S,{children:Object(m.jsx)(F.a,{appear:!0,show:u,as:r.Fragment,children:Object(m.jsx)(M.a,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:this.toggleModal,children:Object(m.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(m.jsx)(F.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(M.a.Overlay,{className:"fixed inset-0"})}),Object(m.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(m.jsx)(F.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(m.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[Object(m.jsx)(M.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Are you sure ?"}),Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsx)("p",{className:"text-sm text-gray-500",children:'You will have to take care of this pet. Click "YES" to proceed to payment methods.'})}),Object(m.jsxs)("div",{className:"flex mt-4 justify-center",children:[Object(m.jsx)("button",{type:"button",className:"inline bg-transparent hover:bg-red-500 mx-4 text-red-700 font-semibold hover:text-white py-1 px-4 border border-red-500 hover:border-transparent rounded",onClick:this.adopt,children:"Yes"}),Object(m.jsx)("button",{type:"button",className:"inline bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-1 px-4 border border-red-500 hover:border-transparent rounded",onClick:this.toggleModal,children:"No"})]})]})})]})})})}):null]})]})}}]),n}(r.Component),T=Object(y.f)(B);function D(){return Object(m.jsx)(k,{children:Object(m.jsx)(T,{})})}var A=function(){var e=Object(r.useState)("darkblue");return Object(m.jsx)(r.StrictMode,{children:Object(m.jsx)(E.Provider,{value:e,children:Object(m.jsx)("div",{className:"bg-repeat bg-pets-wallpaper",children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)("header",{children:Object(m.jsx)("div",{className:"flex flex-wrap justify-center my-4",children:Object(m.jsx)(b.b,{to:"/",children:Object(m.jsx)("img",{src:"http://static.frontendmasters.com/resources/2019-05-02-complete-intro-react-v5/image-logo.png",alt:"logo"})})})}),Object(m.jsxs)(y.c,{children:[Object(m.jsx)(y.a,{path:"/details/:id",children:Object(m.jsx)(D,{})}),Object(m.jsx)(y.a,{path:"/",children:Object(m.jsx)(p,{})})]})]})})})})};s.a.render(a.a.createElement(A),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ac0b722f.chunk.js.map